<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>kraken &mdash; kraken 0.7.5-6-g09dd4a3
 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.7.5-6-g09dd4a3
',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="kraken 0.7.5-6-g09dd4a3
 documentation" href="#" />
    <link rel="next" title="Advanced usage" href="advanced.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="kraken">
<h1>kraken<a class="headerlink" href="#kraken" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>kraken is a turn-key OCR system forked from <a class="reference external" href="https://github.com/tmbdev/ocropy">ocropus</a>. It is intended to rectify a number of
issues while preserving (mostly) functional equivalence.</p>
<p>If you already got a model trained for ocropus you can always expect it to work
with kraken without all the fuss of the original ocropus tools.</p>
</div>
<div class="section" id="features">
<h1>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h1>
<p>kraken&#8217;s main features are:</p>
<blockquote>
<div><ul class="simple">
<li>Explicit input/output handling</li>
<li>Word bounding boxes and character cuts in hOCR</li>
<li>Removal of runtime dependency on gcc</li>
<li><a class="reference external" href="https://github.com/mittagessen/kraken-models">Public repository</a> of model files</li>
<li><a class="reference internal" href="models.html#models"><span>Lightweight model files</span></a></li>
<li>Support for <a class="reference external" href="https://github.com/tmbdev/clstm">clstm</a> models</li>
</ul>
</div></blockquote>
<p>Currently missing or underdocumented are:</p>
<blockquote>
<div><ul class="simple">
<li>Clean public API</li>
<li>Tests</li>
<li>New training interface (certainly only for CLSTM)</li>
</ul>
</div></blockquote>
<p>All functionality not pertaining to OCR and prerequisite steps has been
removed, i.e. no more ground truth editing, error rate measuring, etc.</p>
<p>Pull requests and code contributions are always welcome.</p>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>While kraken does not require a working C compiler on run-time anymore numpy
and scipy compilation still requires build-essential or your distributions
equivalent and some dependencies.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> apt-get install gcc gfortran python-dev libblas-dev liblapack-dev python-gi libpangocairo-1.0
</pre></div>
</div>
<p>If <a class="reference external" href="https://github.com/tmbdev/clstm">clstm</a> support is desired (highly
recommended) the associated python extension has to be build and installed.</p>
<p>Because the build behavior of pip versions older than 6.1.0 interferes with the
scipy build process numpy has to be installed before doing the actual install:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">#</span> pip install numpy
</pre></div>
</div>
<p>Install kraken either from pypi:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> pip install kraken
</pre></div>
</div>
<p>or by running pip in the git repository:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> pip install .
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While kraken is Python 2/3 compliant, there are limits to its compatibility.
For various reasons it is not possible to use <a class="reference internal" href="models.html#pyrnn"><span>pickled models</span></a> under Python 3. As the vast majority of models are still in
the legacy format it is recommended to use Python 2.7. On the other hand all
models in the central repository are converted to the fully upward compatible
pronn format.</p>
</div>
<p>Finally you&#8217;ll have to scrounge up an RNN to do the actual recognition of
characters. To download ocropus&#8217; default RNN converted to the new format and
place it in the kraken directory for the current user:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> kraken get default
</pre></div>
</div>
</div>
<div class="section" id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>Recognizing text on an image using the default parameters including the
prerequisite steps of binarization and page segmentation:</p>
<div class="highlight-python"><div class="highlight"><pre>$ kraken -i image.tif image.txt
Loading RNN     ✓
Processing      ⣻
</pre></div>
</div>
<p>To binarize a single image using the nlbin algorithm:</p>
<div class="highlight-python"><div class="highlight"><pre>$ kraken -i image.tif bw.tif binarize
</pre></div>
</div>
<p>To segment a binarized image into reading-order sorted lines:</p>
<div class="highlight-python"><div class="highlight"><pre>$ kraken -i bw.tif lines.txt segment bw.png
</pre></div>
</div>
<p>To OCR a binarized image using the default RNN and the previously generated
page segmentation:</p>
<div class="highlight-python"><div class="highlight"><pre>$ kraken -i bw.tif image.txt ocr --lines lines.txt
</pre></div>
</div>
</div>
<div class="section" id="license">
<span id="id2"></span><h1>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal"><span class="pre">Kraken</span></code> is provided under the terms and conditions of the <a class="reference external" href="https://github.com/mittagessen/kraken/blob/master/LICENSE">Apache 2.0
License</a> retained
from the original <code class="docutils literal"><span class="pre">ocropus</span></code> distribution.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/kraken.png" alt="Logo"/>
            </a></p><h3>Useful Links</h3>
<ul>
  <li><a href="http://kraken.re">The Kraken Website</a></li>
  <li><a href="http://pypi.python.org/pypi/kraken">kraken @ PyPI</a></li>
  <li><a href="http://github.com/mittagessen/kraken">kraken @ github</a></li>
  <li><a href="http://github.com/mittagessen/kraken/issues">Issue Tracker</a></li>
</ul><h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="ketos.html">Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, mittagessen.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/index.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>