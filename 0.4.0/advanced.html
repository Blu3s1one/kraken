
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Advanced usage &#8212; kraken  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/banner.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="kraken API" href="api.html" />
    <link rel="prev" title="kraken" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  


    
    



    <p class="scv-banner"><a href="../0.10.0/advanced.html"><b>Warning:</b> This document is for an old version of kraken. The latest version is 0.10.0.</a></p>
<div class="section" id="advanced-usage">
<h1>Advanced usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="binarization">
<h2>Binarization<a class="headerlink" href="#binarization" title="Permalink to this headline">¶</a></h2>
<p>The binarization subcommand accepts almost the same parameters as
<code class="docutils literal notranslate"><span class="pre">ocropus-nlbin</span></code>. Only options not related to binarization, e.g. skew
detection are missing. In addition, error checking (image sizes, inversion
detection, grayscale enforcement) is always disabled and kraken will happily
binarize any image that is thrown at it.</p>
<p>Available parameters are:</p>
<blockquote>
<div>–threshold FLOAT
–zoom FLOAT
–escale FLOAT
–border FLOAT
–perc INTEGER RANGE
–range INTEGER
–low INTEGER RANGE
–high INTEGER RANGE</div></blockquote>
</div>
<div class="section" id="page-segmentation">
<h2>Page segmentation<a class="headerlink" href="#page-segmentation" title="Permalink to this headline">¶</a></h2>
<p>Page segmentation is mostly parameterless, although a switch to change the
color of column separators has been retained. The segmentation is written as a
plain text CSV file. Each record corresponds to a single line bounding box in
the format (x0, y0, x1, y1). Lines are printed in reading order:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">kraken</span><span class="p">)</span><span class="o">~/</span><span class="n">OCR</span><span class="o">/</span><span class="n">test</span><span class="o">&gt;</span> <span class="n">kraken</span> <span class="n">segment</span> <span class="mf">14.</span><span class="n">tif</span>
<span class="mi">422</span><span class="p">,</span><span class="mi">188</span><span class="p">,</span><span class="mi">2158</span><span class="p">,</span><span class="mi">327</span>
<span class="mi">421</span><span class="p">,</span><span class="mi">328</span><span class="p">,</span><span class="mi">2158</span><span class="p">,</span><span class="mi">430</span>
<span class="mi">415</span><span class="p">,</span><span class="mi">464</span><span class="p">,</span><span class="mi">2153</span><span class="p">,</span><span class="mi">599</span>
<span class="mi">412</span><span class="p">,</span><span class="mi">604</span><span class="p">,</span><span class="mi">2153</span><span class="p">,</span><span class="mi">745</span>
<span class="mi">406</span><span class="p">,</span><span class="mi">744</span><span class="p">,</span><span class="mi">2152</span><span class="p">,</span><span class="mi">882</span>
<span class="mi">405</span><span class="p">,</span><span class="mi">877</span><span class="p">,</span><span class="mi">2144</span><span class="p">,</span><span class="mi">1020</span>
<span class="mi">403</span><span class="p">,</span><span class="mi">1020</span><span class="p">,</span><span class="mi">2139</span><span class="p">,</span><span class="mi">1150</span>
<span class="mi">399</span><span class="p">,</span><span class="mi">1160</span><span class="p">,</span><span class="mi">2136</span><span class="p">,</span><span class="mi">1297</span>
<span class="mi">394</span><span class="p">,</span><span class="mi">1292</span><span class="p">,</span><span class="mi">2137</span><span class="p">,</span><span class="mi">1435</span>
<span class="mi">391</span><span class="p">,</span><span class="mi">1431</span><span class="p">,</span><span class="mi">2131</span><span class="p">,</span><span class="mi">1572</span>
<span class="mi">385</span><span class="p">,</span><span class="mi">1566</span><span class="p">,</span><span class="mi">2128</span><span class="p">,</span><span class="mi">1709</span>
<span class="mi">379</span><span class="p">,</span><span class="mi">1710</span><span class="p">,</span><span class="mi">2128</span><span class="p">,</span><span class="mi">1830</span>
<span class="mi">383</span><span class="p">,</span><span class="mi">1854</span><span class="p">,</span><span class="mi">2126</span><span class="p">,</span><span class="mi">1986</span>
<span class="mi">370</span><span class="p">,</span><span class="mi">1985</span><span class="p">,</span><span class="mi">2125</span><span class="p">,</span><span class="mi">2127</span>
<span class="mi">369</span><span class="p">,</span><span class="mi">2123</span><span class="p">,</span><span class="mi">2118</span><span class="p">,</span><span class="mi">2268</span>
<span class="mi">369</span><span class="p">,</span><span class="mi">2268</span><span class="p">,</span><span class="mi">2111</span><span class="p">,</span><span class="mi">2407</span>
<span class="mi">366</span><span class="p">,</span><span class="mi">2401</span><span class="p">,</span><span class="mi">2116</span><span class="p">,</span><span class="mi">2514</span>
<span class="mi">363</span><span class="p">,</span><span class="mi">2541</span><span class="p">,</span><span class="mi">2107</span><span class="p">,</span><span class="mi">2682</span>
<span class="mi">364</span><span class="p">,</span><span class="mi">2677</span><span class="p">,</span><span class="mi">2109</span><span class="p">,</span><span class="mi">2819</span>
<span class="mi">358</span><span class="p">,</span><span class="mi">2815</span><span class="p">,</span><span class="mi">2106</span><span class="p">,</span><span class="mi">2956</span>
<span class="mi">354</span><span class="p">,</span><span class="mi">2955</span><span class="p">,</span><span class="mi">2098</span><span class="p">,</span><span class="mi">3092</span>
<span class="mi">355</span><span class="p">,</span><span class="mi">3092</span><span class="p">,</span><span class="mi">2094</span><span class="p">,</span><span class="mi">3230</span>
<span class="mi">1859</span><span class="p">,</span><span class="mi">3233</span><span class="p">,</span><span class="mi">2084</span><span class="p">,</span><span class="mi">3354</span>
</pre></div>
</div>
</div>
<div class="section" id="recognition">
<h2>Recognition<a class="headerlink" href="#recognition" title="Permalink to this headline">¶</a></h2>
<p>Recognition requires a binarized image, a page segmentation for that image, and
a pyrnn or HDF5 model. In particular there is no requirement to use the page
segmentation algorithm contained in the <code class="docutils literal notranslate"><span class="pre">segment</span></code> subcommand or the
binarization provided by kraken.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ocr</span></code> subcommand is able to print the recognition results either as plain
text (default) or as <a class="reference external" href="https://docs.google.com/document/d/1QQnIQtvdAC_8n92-LhwPcjtAUFwBlzE8EWnKAxlgVf0/preview">hOCR</a>
containing additional information about the results.</p>
<p>hOCR output is slightly different from hOCR files produced by ocropus. Each
<code class="docutils literal notranslate"><span class="pre">ocr_line</span></code> span contains not only the bounding box of the line but also
character cuts (<code class="docutils literal notranslate"><span class="pre">cuts</span></code> attribute) indicating the coordinates of each
character. In each line sequences of alphanumeric (in the unicode sense)
character are put into <code class="docutils literal notranslate"><span class="pre">ocrx_word</span></code> spans. Non-alphanumeric sequences are
described by <code class="docutils literal notranslate"><span class="pre">ocrx_word</span></code> spans. Both have bounding boxes as attributes and
the recognition confidence for each character in the <code class="docutils literal notranslate"><span class="pre">x_conf</span></code> attribute.</p>
<p>Paragraph detection has been removed as it was deemed to be unduly dependent on
certain typographic features which may not be valid for your input.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/kraken.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Advanced usage</a><ul>
<li><a class="reference internal" href="#binarization">Binarization</a></li>
<li><a class="reference internal" href="#page-segmentation">Page segmentation</a></li>
<li><a class="reference internal" href="#recognition">Recognition</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">kraken</a></li>
      <li>Next: <a href="api.html" title="next chapter">kraken API</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3>Versions</h3>
<ul>
    <li><a href="../master/advanced.html">master</a></li>
    <li><a href="../0.10.0/advanced.html">0.10.0</a></li>
    <li><a href="advanced.html">0.4.0</a></li>
    <li><a href="../0.8.0/advanced.html">0.8.0</a></li>
    <li><a href="../0.9.0/advanced.html">0.9.0</a></li>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, mittagessen.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/advanced.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>